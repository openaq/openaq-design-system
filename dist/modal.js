"use strict";var _react=_interopRequireDefault(require("react")),_reactAddonsCssTransitionGroup=_interopRequireDefault(require("react-addons-css-transition-group"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var Modal=_react.default.createClass({displayName:"Modal",propTypes:{id:_react.default.PropTypes.string.isRequired,revealed:_react.default.PropTypes.bool,className:_react.default.PropTypes.string,onOverlayClick:_react.default.PropTypes.func,onCloseClick:_react.default.PropTypes.func,children:function(e,a,t){var o=["ModalHeader","ModalBody","ModalFooter"],r=["ModalHeader","ModalBody"],l=_react.default.Children.toArray(e[a]),n=l.length;if(0===n||n>3)return new Error("".concat(t," should have at least a child but no more than 3"));for(var s={},d=0;d<n;d++){var i=l[d],c=i.type.displayName||i.type;if(-1===o.indexOf(c))return new Error("".concat(t," children should be of the following types: ").concat(o.join(", ")));if(s[c]||(s[c]=0),++s[c]>1)return new Error("".concat(t," should have only one instance of: ").concat(c))}for(var u=0;u<r.length;u++)if(!s[r[u]])return new Error("".concat(t," should have a ").concat(r[u]))}},toggleUnscrollableClass:function(e){var a=document.documentElement;e?a.classList.add("unscrollable-y"):a.classList.remove("unscrollable-y")},componentDidUpdate:function(){this.toggleUnscrollableClass(this.props.revealed)},componentDidMount:function(){this.toggleUnscrollableClass(this.props.revealed)},componentWillUnmount:function(){this.toggleUnscrollableClass(!1)},getDefaultProps:function(){return{revealed:!1,onOverlayClick:function(e){"production"!==process.env.NODE_ENV&&console.warn("Modal","onOverlayClick handler not implemented")},onCloseClick:function(e){"production"!==process.env.NODE_ENV&&console.warn("Modal","onCloseClick handler not implemented")}}},onOverlayClick:function(e){e.target,e.currentTarget},onCloseClick:function(e){e.preventDefault(),this.props.onCloseClick.call(this,e)},getChild:function(a){var t=null;return _react.default.Children.forEach(this.props.children,function(e){t||e.type.displayName!==a||(t=e)}),t},render:function(){var e=["modal"];return this.props.className&&e.push(this.props.className),_react.default.createElement(_reactAddonsCssTransitionGroup.default,{component:"div",transitionName:"modal",transitionEnterTimeout:300,transitionLeaveTimeout:300},this.props.revealed?_react.default.createElement("section",{className:e.join(" "),key:"modal-"+this.props.id,onClick:this.onOverlayClick,id:this.props.id},_react.default.createElement("div",{className:"modal__inner"},this.getChild("ModalHeader"),this.getChild("ModalBody"),this.getChild("ModalFooter")),_react.default.createElement("button",{className:"modal__button-dismiss",title:"Close",onClick:this.onCloseClick},_react.default.createElement("span",null,"Dismiss"))):null)}}),ModalHeader=_react.default.createClass({displayName:"ModalHeader",propTypes:{children:_react.default.PropTypes.node},render:function(){return _react.default.createElement("header",{className:"modal__header"},this.props.children)}}),ModalBody=_react.default.createClass({displayName:"ModalBody",propTypes:{children:_react.default.PropTypes.node},render:function(){return _react.default.createElement("div",{className:"modal__body"},this.props.children)}}),ModalFooter=_react.default.createClass({displayName:"ModalFooter",propTypes:{children:_react.default.PropTypes.node},render:function(){return _react.default.createElement("footer",{className:"modal__footer"},this.props.children)}});module.exports={Modal:Modal,ModalHeader:ModalHeader,ModalBody:ModalBody,ModalFooter:ModalFooter};